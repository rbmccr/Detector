<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>

  <script src="./index.js"></script>
  <script>

    const config = {
      try: {
        default: null,
        execute: null,
      },
      catch: {
        default: null, // return this value if callback doesn't return in error.execute
        execute: null, // callback (if value is returned from callback, then same value is returned from error block)
        provideErr: false, // set to true if you want to receive the err as a return value.
        logType: null, // 'error', 'info', 'log', 'warn' -- there are several console methods accepted
      },
      finally: {
        default: null, // return this value if callback doesn't return in finally.execute
        execute: null, // callback (if value is returned from callback, then same value is returned from finally block)
      }
    };

    function myfn(a) {
      if (a) { return 'aaa'; }
      else { return 'bbb'; }
    }

    function cb(b) {
      if (b) {  }
      else { throw new Error(); }
    }

    let config2 = {
      try: {
        default: 'val',
        // execute: () => myfn('a')
      },
      catch: {
        default: 'eee',
        // execute: () => myfn(),
        // provideErr: true,
        logType: 'warn'
      },
      finally: {
        default: 'ddd',
        execute: () => myfn()
      }
    };

    let s = new Snatcher();

    let myVar = s.watch(() => cb(), config2);
    console.log(myVar);

    myVar = s.watch(() => cb());
    console.log(myVar);

  </script>
</body>

</html>